{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
{% endblock %}



{% block body %}
<br>
<div>
    <h1 style="display:inline">All Posts</h1>
    <a class="btn btn-success float-right" href="/posts/new" style="display:inline">Create a New Post</a>
</div>

<hr>
<h2>Create New Blog Posts:</h2>
<form action="/posts" method="POST">
    <label for="title">Title:</label>
    <input class="form-control" type="text" name="title" id="title" placeholder="Enter Title" aria-label="Enter Title">
    <br>
    <label for="author">Author:</label>
    <input class="form-control" type="text" name="author" id="author" placeholder="Enter Author" aria-label="Enter Author">
    <br>
    <label for="content">Post:</label>
    <textarea class="form-control" name="content" id="content" rows="3" placeholder="Enter post here" aria-label="Enter post here"></textarea>
    <br>
    <input type="submit" value="Post">
</form>
<hr>

    {% for post in posts %}
    <br>
        <h2>{{ post.title }}</h2>

        {% if post.author %}
            <small> Written by {{ post.author }} on {{ post.date_posted }}</small>
        {% else %}
            <small> Written by N/A on {{ post.date_posted }}</small>
        {% endif %}
        <br>
        <br>
        <p style="white-space:pre-wrap">{{ post.content }}</p>
        <a class='btn btn-danger' href="/posts/delete/{{post.id}}">Delete</a>
        <a class='btn btn-primary' href="/posts/edit/{{post.id}}">Edit</a>
        <br>
        <hr>
    {% endfor %}
{% endblock %}